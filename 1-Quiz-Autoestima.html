<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Complet: Autocura i Connexi√≥ Interna</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }

        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: white;
            padding: 40px 20px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 15px;
            font-weight: 300;
        }

        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            font-style: italic;
        }

        .score-section {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .score-item {
            text-align: center;
            flex: 1;
            min-width: 150px;
        }

        .score-item h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .score-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #764ba2;
        }

        .progress-bar {
            background: #ecf0f1;
            border-radius: 25px;
            height: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress {
            background: linear-gradient(90deg, #2ecc71, #27ae60);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 25px;
        }

        .question-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            transform: translateY(0);
            transition: all 0.3s ease;
        }

        .question-card.hidden {
            opacity: 0;
            transform: translateY(20px);
        }

        .question-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .question-category {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.9em;
            display: inline-block;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .question-text {
            font-size: 1.4em;
            color: #2c3e50;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .answer-option {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border: 3px solid transparent;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .answer-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: #667eea;
        }

        .answer-option.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #2c3e50;
        }

        .answer-option.correct {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: white;
            border-color: #1e8449;
        }

        .answer-option.incorrect {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            border-color: #a93226;
        }

        .answer-option.disabled {
            pointer-events: none;
            opacity: 0.7;
        }

        .answer-letter {
            display: inline-block;
            width: 35px;
            height: 35px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            text-align: center;
            line-height: 35px;
            font-weight: bold;
            margin-right: 15px;
        }

        .selected .answer-letter,
        .correct .answer-letter,
        .incorrect .answer-letter {
            background: rgba(255,255,255,0.3);
        }

        .explanation {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            border-left: 5px solid #3498db;
            display: none;
        }

        .explanation.show {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .explanation h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .controls {
            text-align: center;
            margin: 30px 0;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn.secondary {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
        }

        .results {
            background: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            display: none;
        }

        .results.show {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        .results h2 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .final-score {
            font-size: 3em;
            font-weight: bold;
            margin: 20px 0;
        }

        .excellent { color: #2ecc71; }
        .good { color: #f39c12; }
        .needs-improvement { color: #e74c3c; }

        .performance-message {
            font-size: 1.3em;
            margin: 20px 0;
            padding: 20px;
            border-radius: 15px;
        }

        .tips-section {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            text-align: left;
        }

        .tips-section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
        }

        .tips-section ul {
            list-style: none;
            padding-left: 0;
        }

        .tips-section li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }

        .tips-section li:before {
            content: "üí°";
            position: absolute;
            left: 0;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .question-text {
                font-size: 1.2em;
            }
            
            .score-section {
                flex-direction: column;
            }
            
            .quiz-container {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="header">
            <h1>üåü Quiz Complet: Autocura i Connexi√≥ Interna</h1>
            <div class="subtitle">Avalua els teus coneixements sobre prioritzar-te, connectar amb tu mateixa i trobar l'equilibri</div>
        </div>

        <div class="score-section">
            <div class="score-item">
                <h3>Pregunta Actual</h3>
                <div class="score-number" id="current-question">1</div>
            </div>
            <div class="score-item">
                <h3>Puntuaci√≥</h3>
                <div class="score-number" id="score">0</div>
            </div>
            <div class="score-item">
                <h3>% Correctes</h3>
                <div class="score-number" id="percentage">0%</div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>

        <div id="question-container">
            <!-- Les preguntes es generaran aqu√≠ -->
        </div>

        <div class="controls">
            <button class="btn" id="next-btn" onclick="nextQuestion()" disabled>Seg√ºent Pregunta</button>
            <button class="btn secondary" onclick="restartQuiz()">Reiniciar Quiz</button>
        </div>

        <div class="results" id="results">
            <!-- Resultats finals -->
        </div>
    </div>

    <script>
        const questions = [
            {
                category: "Concepte Fonamental",
                question: "Segons la met√†fora de l'arbre, qu√® passa si continues donant-ho tot sense cuidar-te?",
                options: [
                    "L'arbre es fa m√©s fort",
                    "L'arbre es trenca i tot el que sostenia es ve avall",
                    "No passa res important",
                    "Els altres aprenen a ser independents"
                ],
                correct: 1,
                explanation: "Si ets l'arbre que sost√©n tot (fam√≠lia, feina, responsabilitats) i no et cuides, al final l'arbre es trenca. Aix√≤ no nom√©s t'afecta a tu, sin√≥ que t√© conseq√º√®ncies terribles per a tots els que t'envolten."
            },
            {
                category: "Prioritats",
                question: "Per qu√® √©s tan important dedicar-te temps a tu mateixa?",
                options: [
                    "Perqu√® ets ego√≠sta si no ho fas",
                    "Perqu√® tu ets la teva prioritat i responsabilitat",
                    "Per impressionar els altres",
                    "Nom√©s si tens temps lliure"
                ],
                correct: 1,
                explanation: "Tu ets la teva prioritat i responsabilitat. Ning√∫ m√©s ho far√† per tu. Has de prendre la decisi√≥ conscient de dedicar-te temps i atenci√≥, encara que sigui un petit percentatge."
            },
            {
                category: "Delegaci√≥",
                question: "Quina √©s la manera correcta de comunicar la necessitat d'ajuda?",
                options: [
                    "'No puc m√©s, estic esgotada'",
                    "'Tu no fas res mai'",
                    "'Cari√±o, t'importaria ocupar-te de la cena dos vegades per setmana? Aix√≠ puc tenir un rato per a mi'",
                    "'Sempre he de fer-ho tot jo'"
                ],
                correct: 2,
                explanation: "Cal expressar les necessitats de forma clara i directa, sense queixar-se, sense fer sentir culpable l'altre. No es tracta d'acusar, sin√≥ de demanar col¬∑laboraci√≥."
            },
            {
                category: "Exig√®ncies",
                question: "Qu√® significa 'rebaixar les exig√®ncies' segons el document?",
                options: [
                    "Deixar de fer les coses importants",
                    "Tenir la casa 'suficientment' ordenada, menjar senzill alguns dies",
                    "Abandonar totes les responsabilitats",
                    "No cuidar mai m√©s la casa"
                ],
                correct: 1,
                explanation: "Rebaixar les exig√®ncies significa permetre un grau d'imperfecci√≥ tolerable: casa 'suficientment' ordenada, menjar senzill alguns dies, reduir activitats que t'esgoten. Es tracta de trobar l'equilibri entre la perfecci√≥ i el caos."
            },
            {
                category: "Connexi√≥ Interna",
                question: "Per connectar amb tu mateixa, qu√® recomanem sobre els moments de no fer res?",
                options: [
                    "√âs una p√®rdua de temps",
                    "Buscar 3-5 minuts per simplement estar, com prendre un caf√® tranquil¬∑la",
                    "Nom√©s si tens moltes hores lliures",
                    "No √©s necessari"
                ],
                correct: 1,
                explanation: "√âs vital buscar petits moments de 3-5 minuts per simplement estar: prendre un caf√® tranquil¬∑la, seure al sof√†, mirar per la finestra. Aquests moments permeten que la teva veu interior emergeixi."
            },
            {
                category: "Tecnologia",
                question: "Quina estrat√®gia espec√≠fica es recomana per desconnectar de la tecnologia?",
                options: [
                    "Utilitzar m√©s el m√≤bil",
                    "Deixar el m√≤bil en una caixa al arribar a casa",
                    "Estar sempre connectada",
                    "Comprar m√©s dispositius"
                ],
                correct: 1,
                explanation: "Es recomana deixar el m√≤bil en una caixa al arribar a casa, no portar-lo al dormitori, considerar un dia sense tecnologia i deixar-lo a casa per trajectes curts com anar a buscar els nens."
            },
            {
                category: "Gesti√≥ Mental",
                question: "Com pots 'buidar la ment' segons el document?",
                options: [
                    "Memoritzar m√©s coses",
                    "Apuntar totes les tasques i recordatoris per treure'ls del cap",
                    "Pensar constantment en el futur",
                    "Mantenir-ho tot a la mem√≤ria"
                ],
                correct: 1,
                explanation: "Apuntar totes les tasques i recordatoris en un quadern o m√≤bil allibera un pes enorme del cap. Aquesta 'c√†rrega mental' t'impedeix connectar amb tu mateixa."
            },
            {
                category: "Pres√®ncia",
                question: "Qu√® has de fer en moments d'espera (parada bus, consulta metge)?",
                options: [
                    "Mirar sempre el m√≤bil",
                    "Aprendre a estar present, observar, escoltar",
                    "Planificar constantment el futur",
                    "Omplir-ho amb distraccions"
                ],
                correct: 1,
                explanation: "En lloc d'omplir cada moment d'espera amb distraccions, apr√®n a estar present. Observa l'entorn, escolta, acompanya en silenci. Practica l'aqu√≠ i ara."
            },
            {
                category: "Naturalesa i Cos",
                question: "Per connectar amb el teu cos, qu√® pots fer si no t'agrada el gimn√†s?",
                options: [
                    "No fer mai exercici",
                    "Caminar m√©s, baixar abans del transport, fer exercici amb els fills",
                    "Obligar-te a anar al gimn√†s",
                    "Nom√©s fer esport professional"
                ],
                correct: 1,
                explanation: "Si no t'agrada el gimn√†s pots caminar m√©s, baixar abans del transport p√∫blic, fer exercici amb els fills (patins, bici, saltar), ballar a casa. L'important √©s moure el cos."
            },
            {
                category: "Jutjaments",
                question: "Quan et sents jutjada pels altres, qu√® has de recordar?",
                options: [
                    "Que tothom est√† sempre jutjant-te",
                    "Que la majoria de gent est√† ocupada amb els seus problemes",
                    "Que has de ser perfecta",
                    "Que has de complaure a tothom"
                ],
                correct: 1,
                explanation: "La majoria de persones estan ocupades amb els seus propis problemes i fills. Sovint et jutges tu mateixa m√©s que els altres. A vegades una mirada pot ser de comprensi√≥ perqu√® han passat pel mateix."
            },
            {
                category: "Autoestima",
                question: "Per fortal√®ixer l'autoestima, qu√® has de fer?",
                options: [
                    "Ser la teva millor amiga: estimar-te, respectar-te, acceptar-te",
                    "Criticar-te constantment",
                    "Comparar-te amb altres",
                    "Buscar nom√©s aprovaci√≥ externa"
                ],
                correct: 0,
                explanation: "Has de ser la teva millor amiga: estimar-te, respectar-te i acceptar-te amb les teves imperfeccions. Reconeix les teves qualitats positives. Una autoestima forta et protegeix dels jutjaments."
            },
            {
                category: "Imperfecci√≥",
                question: "Qu√® ensenyes als fills quan no ets perfecta?",
                options: [
                    "Que ets una mala mare",
                    "A aguantar-se, esperar i que ning√∫ √©s perfecte",
                    "Que no t'importa res",
                    "A ser irresponsables"
                ],
                correct: 1,
                explanation: "Quan no arribes al 100% ensenyes lli√ßons vitals: a aguantar-se, esperar, que ning√∫ √©s perfecte, a generar recursos propis. No hi ha pares perfectes, per√≤ s√≠ suficientment bons."
            },
            {
                category: "Canvi de Prioritats",
                question: "Quin canvi fonamental proposa el document?",
                options: [
                    "Del SER al FER",
                    "Del FER al SER i ESTAR",
                    "De les persones a les coses",
                    "De la qualitat a la quantitat"
                ],
                correct: 1,
                explanation: "Cal passar del 'FER' (tasques, coses materials) al 'SER' i 'ESTAR' (benestar personal, connexi√≥). √âs m√©s important connectar amb els fills llegint un conte que tenir el terra impecable."
            },
            {
                category: "Planificaci√≥",
                question: "Com has d'enfocar la planificaci√≥ segons la met√†fora del globus?",
                options: [
                    "Planificar constantment el futur",
                    "Portar el 'globus' dels pensaments de tornada al moment actual",
                    "Viure sempre en el passat",
                    "No planificar mai res"
                ],
                correct: 1,
                explanation: "Tendim a estar sempre en el futur (qu√® he de fer dem√†, a les 3, el dissabte). Cal portar el 'globus' dels pensaments de tornada a l'aqu√≠ i ara. Pots preocupar-te quan sigui el moment de resoldre."
            },
            {
                category: "Passat",
                question: "Com has de gestionar el teu passat per avan√ßar?",
                options: [
                    "Oblidar-lo completament",
                    "Recon√®ixer-lo, acceptar-lo i prendre les regnes del present",
                    "Viure sempre ancorada en ell",
                    "Culpar-lo de tot"
                ],
                correct: 1,
                explanation: "Has de recon√®ixer el passat, acceptar que va passar per√≤ que ara est√†s en un moment diferent. No t'ancloris per√≤ tampoc l'oblidis. Pren les regnes i decideix conscientment com vols ser ara."
            },
            {
                category: "Implementaci√≥",
                question: "Per passar del reconeixement a l'acci√≥, quin √©s el primer pas dels 5 proposats?",
                options: [
                    "Canviar prioritats",
                    "Fer coses que t'agradin",
                    "Pedir ajuda i delegar",
                    "Rebaixar exig√®ncies"
                ],
                correct: 2,
                explanation: "El primer dels 5 passos √©s 'Pedir ajuda i delegar'. Has de buscar tasques per assignar a parella, pares, fills o contractar ajuda. L'objectiu √©s que altres es responsabilitzin de tasques repetitives."
            },
            {
                category: "Mindfulness",
                question: "Qu√® significa practicar mindfulness en el dia a dia?",
                options: [
                    "Meditar 2 hores di√†ries",
                    "Prestar atenci√≥ al moment present sense jutjar (quan et rentes dents, menges, camines)",
                    "Nom√©s pensar en coses positives",
                    "Evitar totes les emocions negatives"
                ],
                correct: 1,
                explanation: "El mindfulness consisteix a prestar atenci√≥ al moment present sense jutjar-lo. Es pot practicar rentant-se les dents, menjant, caminant. Es tracta de fer les coses amb consci√®ncia."
            },
            {
                category: "Responsabilitat Familiar",
                question: "Com pots implicar els fills en les tasques dom√®stiques?",
                options: [
                    "No fer-los fer res fins que siguin adults",
                    "Donar-los petites responsabilitats adaptades a la seva edat",
                    "Que facin totes les tasques de casa",
                    "Nom√©s ajudar si volen"
                ],
                correct: 1,
                explanation: "Des de petits pots donar-los responsabilitats adaptades: rerrcollit de joguines, ajudar a posar taula, doblar roba. Aix√≤ no nom√©s et treu feina, sin√≥ que els ensenya responsabilitat i col¬∑laboraci√≥."
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let answered = false;
        let userAnswers = [];

        function loadQuestion() {
            const questionContainer = document.getElementById('question-container');
            const question = questions[currentQuestion];
            
            questionContainer.innerHTML = `
                <div class="question-card">
                    <div class="question-number">Pregunta ${currentQuestion + 1} de ${questions.length}</div>
                    <div class="question-category">${question.category}</div>
                    <div class="question-text">${question.question}</div>
                    <div id="options">
                        ${question.options.map((option, index) => `
                            <div class="answer-option" onclick="selectAnswer(${index})">
                                <span class="answer-letter">${String.fromCharCode(65 + index)}</span>
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                    <div class="explanation" id="explanation">
                        <h4>üí° Explicaci√≥:</h4>
                        <p>${question.explanation}</p>
                    </div>
                </div>
            `;
            
            answered = false;
            document.getElementById('next-btn').disabled = true;
            updateProgress();
        }

        function selectAnswer(selectedIndex) {
            if (answered) return;
            
            answered = true;
            const question = questions[currentQuestion];
            const options = document.querySelectorAll('.answer-option');
            
            // Deshabilitar totes les opcions
            options.forEach(option => option.classList.add('disabled'));
            
            // Marcar la resposta seleccionada
            options[selectedIndex].classList.add('selected');
            
            // Mostrar la resposta correcta
            options[question.correct].classList.add('correct');
            
            // Si la resposta √©s incorrecta, marcar-la
            if (selectedIndex !== question.correct) {
                options[selectedIndex].classList.add('incorrect');
            } else {
                score++;
            }
            
            // Guardar la resposta
            userAnswers[currentQuestion] = {
                selected: selectedIndex,
                correct: question.correct,
                isCorrect: selectedIndex === question.correct
            };
            
            // Mostrar explicaci√≥
            document.getElementById('explanation').classList.add('show');
            
            // Habilitar bot√≥ seg√ºent
            document.getElementById('next-btn').disabled = false;
            
            updateScore();
        }

        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion < questions.length) {
                loadQuestion();
                document.getElementById('current-question').textContent = currentQuestion + 1;
            } else {
                showResults();
            }
        }

        function updateProgress() {
            const progress = (currentQuestion / questions.length) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }

        function updateScore() {
            document.getElementById('score').textContent = score;
            const percentage = Math.round((score / (currentQuestion + 1)) * 100);
            document.getElementById('percentage').textContent = percentage + '%';
        }

        function showResults() {
            const percentage = Math.round((score / questions.length) * 100);
            let performanceClass, performanceMessage, tips;
            
            if (percentage >= 85) {
                performanceClass = 'excellent';
                performanceMessage = 'üåü Excel¬∑lent! Tens un domini excepcional dels conceptes d\'autocura i connexi√≥ interna. Est√†s preparat/da per implementar aquests canvis.';
                tips = [
                    'Comen√ßa a aplicar els 5 passos de forma gradual',
                    'Tria un concepte per treballar cada setmana',
                    'Comparteix aquests coneixements amb la teva parella',
                    'Fes un seguiment dels teus progressos'
                ];
            } else if (percentage >= 70) {
                performanceClass = 'good';
                performanceMessage = 'üëç Molt b√©! Tens una bona comprensi√≥ dels conceptes. Amb una mica m√©s de pr√†ctica podr√†s dominar-los completament.';  
                tips = [
                    'Revisa les categories on has tingut m√©s dificultats',
                    'Practica amb la guia d\'acordions per aprofundir',
                    'Comen√ßa implementant els conceptes m√©s clars per a tu',
                    'Torna a fer el quiz despr√©s de repassar'
                ];
            } else {
                performanceClass = 'needs-improvement';
                performanceMessage = 'üìö Cal m√©s pr√†ctica! Et recomano revisar el material detingudament abans d\'intentar implementar els canvis.';
                tips = [
                    'Llegeix la guia interactiva secci√≥ per secci√≥',
                    'Practica amb el joc de cartes per familiaritzar-te',
                    'Centra\'t primer en entendre els conceptes b√†sics',
                    'Dedica m√©s temps a reflexionar sobre cada tema'
                ];
            }
            
            const resultsHTML = `
                <h2>Resultats Finals</h2>
                <div class="final-score ${performanceClass}">${score}/${questions.length}</div>
                <div class="performance-message ${performanceClass}">${performanceMessage}</div>
                
                <div class="tips-section">
                    <h3>üí° Recomanacions per continuar:</h3>
                    <ul>
                        ${tips.map(tip => `<li>${tip}</li>`).join('')}
                    </ul>
                </div>
                
                <div style="margin-top: 30px;">
                    <button class="btn" onclick="restartQuiz()">üîÑ Repetir Quiz</button>
                    <button class="btn secondary" onclick="showReview()">üìñ Revisar Respostes</button>
                </div>
            `;
            
            document.getElementById('question-container').style.display = 'none';
            document.querySelector('.controls').style.display = 'none';
            document.getElementById('results').innerHTML = resultsHTML;
            document.getElementById('results').classList.add('show');
        }

        function showReview() {
            let reviewHTML = '<h2>üìù Revisi√≥ Detallada de Respostes</h2><div style="text-align: left;">';
            
            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer?.isCorrect || false;
                
                reviewHTML += `
                    <div style="background: white; border-radius: 15px; padding: 20px; margin-bottom: 20px; border-left: 5px solid ${isCorrect ? '#2ecc71' : '#e74c3c'};">
                        <div style="background: ${isCorrect ? '#d5f4e6' : '#fadbd8'}; padding: 10px; border-radius: 10px; margin-bottom: 15px;">
                            <strong>Categoria:</strong> ${question.category}
                        </div>
                        <h4>Pregunta ${index + 1}: ${question.question}</h4>
                        <p><strong>La teva resposta:</strong> ${userAnswer ? question.options[userAnswer.selected] : 'No resposta'} ${isCorrect ? '‚úÖ' : '‚ùå'}</p>
                        <p><strong>Resposta correcta:</strong> ${question.options[question.correct]}</p>
                        <p><strong>Explicaci√≥:</strong> ${question.explanation}</p>
                    </div>
                `;
            });
            
            reviewHTML += `
                <div style="margin-top: 30px; text-align: center;">
                    <button class="btn" onclick="restartQuiz()">üîÑ Repetir Quiz</button>
                </div>
            </div>`;
            
            document.getElementById('results').innerHTML = reviewHTML;
        }

        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            answered = false;
            userAnswers = [];
            
            document.getElementById('current-question').textContent = '1';
            document.getElementById('score').textContent = '0';
            document.getElementById('percentage').textContent = '0%';
            
            document.getElementById('question-container').style.display = 'block';
            document.querySelector('.controls').style.display = 'block';
            document.getElementById('results').classList.remove('show');
            document.getElementById('results').style.display = 'none';
            
            loadQuestion();
        }

        // Inicialitzar el quiz
        loadQuestion();
    </script>
</body>
</html>
